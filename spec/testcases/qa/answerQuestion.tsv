テスト内容	テストタイプ	実装ステータス
有効な質問で回答が生成される	正常系	実装済み
回答がLINEに正しく返信される	正常系	実装済み
複数の関連ドキュメントから回答が生成される	正常系	実装済み
RetrievalContextが正しく構築される	正常系	実装済み
回答にソース情報が正しく含まれる	正常系	実装済み
長文の回答が分割して送信される	正常系	実装済み
persistAnswer=trueで回答が永続化される	正常系	実装済み
persistAnswer=falseで回答が永続化されない	正常系	実装済み
デフォルトのtopK=5で検索される	正常系	実装済み
カスタムのtopK値で検索される	正常系	実装済み
インデックス未構築時に適切なメッセージが返される	異常系	実装済み
関連ドキュメントが見つからない場合に適切なメッセージが返される	異常系	実装済み
埋め込み生成でエラーが発生した場合に例外がスローされる	異常系	実装済み
ベクトル検索でエラーが発生した場合に例外がスローされる	異常系	実装済み
LLM回答生成でエラーが発生した場合に例外がスローされる	異常系	実装済み
返信送信でエラーが発生した場合に例外がスローされる	異常系	実装済み
回答永続化でエラーが発生した場合に例外がスローされる	異常系	実装済み
空の質問でBusinessRuleErrorが発生する	異常系	実装済み
空白のみの質問でBusinessRuleErrorが発生する	異常系	実装済み
無効なtopK（0以下）でBusinessRuleErrorが発生する	異常系	実装済み
無効なtopK（小数）でBusinessRuleErrorが発生する	異常系	実装済み
topK=1で1件のドキュメントのみ取得される	境界値	実装済み
検索結果がtopKより少ない場合に利用可能な件数のみ取得される	境界値	実装済み
質問が非常に長い場合でも処理される	境界値	実装済み
回答が5000文字を超える場合に正しく分割される	境界値	実装済み
インデックスにエントリが1件のみの場合に検索できる	境界値	実装済み
類似度スコアが正しく含まれる	データ検証	実装済み
ドキュメントIDが正しく含まれる	データ検証	実装済み
ドキュメントタイトルが正しく含まれる	データ検証	実装済み
Questionの値オブジェクトが正しく生成される	データ検証	実装済み
AnswerIdがUUIDv7形式で生成される	データ検証	実装済み
generatedAtが現在時刻で設定される	データ検証	実装済み
